{% extends 'base.html' %}
{% block title %}Przypisz cykliczne zajÄ™cia{% endblock %}

{% block content %}
<div class="assign-lesson">
  <div class="assign-lesson__container">
    <div class="assign-lesson__body">
      <h3 class="assign-lesson__title">ðŸ“š Nowa seria zajÄ™Ä‡ dla {{ student.name }} {{ student.surname }}</h3>

      <form method="post" class="assign-lesson__form">
        <div class="assign-lesson__group">
          <label for="day_of_week">DzieÅ„ tygodnia</label>
          <select id="day_of_week" name="day_of_week" required>
            <option value="0">PoniedziaÅ‚ek</option>
            <option value="1">Wtorek</option>
            <option value="2">Åšroda</option>
            <option value="3">Czwartek</option>
            <option value="4">PiÄ…tek</option>
            <option value="5">Sobota</option>
            <option value="6">Niedziela</option>
          </select>
        </div>

        <div class="assign-task__form-row">
          <div class="assign-task__form-col">
            <label for="start_time">Godzina rozpoczÄ™cia</label>
            <select class="form-select" id="start_time" name="start_time" required>
              {% for hour in range(7, 22) %}
                {% for minute in (0,15,30,45) %}
                  {% set h = "%02d"|format(hour) %}
                  {% set m = "%02d"|format(minute) %}
                  <option value="{{ h }}:{{ m }}">{{ h }}:{{ m }}</option>
                {% endfor %}
              {% endfor %}
            </select>
          </div>

          <div class="assign-task__form-col">
            <label for="end_time">Godzina zakoÅ„czenia</label>
            <select class="form-select" id="end_time" name="end_time" required>
              {% for hour in range(7, 22) %}
                {% for minute in (0,15,30,45) %}
                  {% set h = "%02d"|format(hour) %}
                  {% set m = "%02d"|format(minute) %}
                  <option value="{{ h }}:{{ m }}">{{ h }}:{{ m }}</option>
                {% endfor %}
              {% endfor %}
            </select>
          </div>
        </div>

        <div class="assign-task__form-row">
          <div class="assign-task__form-col">
            <label for="start_date">Od dnia</label>
            <input class="form-select" type="date" id="start_date" name="start_date" required>
          </div>

          <div class="assign-task__form-col">
            <label for="end_date">Do dnia</label>
            <input class="form-select" type="date" id="end_date" name="end_date" required>
          </div>
        </div>

        <div class="assign-lesson__actions">
          <button type="submit" class="btn-primary">Zapisz ðŸ“…</button>
          <a href="{{ url_for('main.dashboard') }}" class="btn-secondary">Anuluj</a>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
