{% extends 'base.html' %}
{% block title %}Oceń zadanie – {{ task.title }}{% endblock %}

{% block content %}
<div class="grade-task">
  <div class="grade-task__wrapper">
    <div class="grade-task__card">
      <div class="grade-task__card-body">
        <h2 class="grade-task__title">Oceń zadanie:</h2>
        <h4 class="grade-task__subtitle">{{ task.title }}</h4>

        <p><strong>Uczeń:</strong> {{ task.student.name }} {{ task.student.surname }}</p>
        <p><strong>Termin:</strong> {{ task.due_date.strftime('%Y-%m-%d') }}</p>

        <div class="grade-task__answer">
          <strong>Odpowiedź tekstowa:</strong>
          <p class="grade-task__answer-text">{{ task.student_answer or 'Brak odpowiedzi tekstowej' }}</p>
        </div>

        <form class="grade-task__form" method="POST">
          {{ form.hidden_tag() }}

          <div class="grade-task__form-group">
            {{ form.earned_points.label(class="grade-task__label") }}
            {{ form.earned_points(class="grade-task__input") }}
            <div class="grade-task__form-help">Max {{ task.max_points }} pkt</div>
          </div>

          <div class="grade-task__submit-wrapper">
            {{ form.submit(class="grade-task__btn-submit") }}
          </div>
        </form>

        <div class="grade-task__back-link">
          <a href="{{ url_for('main.dashboard') }}" class="grade-task__btn-back">&larr; Wróć do dashboardu</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}